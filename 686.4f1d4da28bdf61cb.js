"use strict";(self.webpackChunkska=self.webpackChunkska||[]).push([[686],{686:(M,v,m)=>{m.r(v),m.d(v,{CreateEstablishmentComponent:()=>D});var C=m(6814),i=m(95),_=m(7506),e=m(4946),E=m(2805);function T(n,r){1&n&&(e.TgZ(0,"div",39),e._uU(1," Nome \xe9 obrigat\xf3rio. "),e.qZA())}function F(n,r){1&n&&(e.TgZ(0,"div",39),e._uU(1," Por favor, digite um CPF ou CNPJ v\xe1lido (11 d\xedgitos). "),e.qZA())}function q(n,r){1&n&&(e.TgZ(0,"div",39),e._uU(1," Descri\xe7\xe3o \xe9 obrigat\xf3ria. "),e.qZA())}function A(n,r){1&n&&(e.TgZ(0,"div",39),e._uU(1," Por favor, digite um n\xfamero de telefone v\xe1lido (10 d\xedgitos). "),e.qZA())}function U(n,r){1&n&&(e.TgZ(0,"div",39),e._uU(1," Tipo de servi\xe7o \xe9 obrigat\xf3rio. "),e.qZA())}function y(n,r){1&n&&(e.TgZ(0,"div",39),e._uU(1," O CEP \xe9 obrigat\xf3rio. "),e.qZA())}function P(n,r){1&n&&(e.TgZ(0,"div",39),e._uU(1," O nome da rua \xe9 obrigat\xf3rio. "),e.qZA())}function x(n,r){1&n&&(e.TgZ(0,"div",39),e._uU(1," O n\xfamero \xe9 obrigat\xf3rio. "),e.qZA())}function N(n,r){1&n&&(e.TgZ(0,"div",39),e._uU(1," O bairro \xe9 obrigat\xf3rio. "),e.qZA())}function O(n,r){1&n&&(e.TgZ(0,"div",39),e._uU(1," A cidade \xe9 obrigat\xf3ria. "),e.qZA())}function I(n,r){1&n&&(e.TgZ(0,"div",39),e._uU(1," O estado \xe9 obrigat\xf3rio. "),e.qZA())}let D=(()=>{var n;class r{constructor(o,t,l){this.fb=o,this.router=t,this.googleMapsService=l,this.imageName="Selecione uma foto",this.establishmentForm=this.fb.group({name:["",[i.kI.required]],cpfCnpj:["",[i.kI.required]],description:["",[i.kI.required]],street:["",i.kI.required],number:["",i.kI.required],complement:[""],neighborhood:["",i.kI.required],city:["",i.kI.required],state:["",i.kI.required],zipCode:["",[i.kI.required]],phone:["",[i.kI.required]],serviceType:["",[i.kI.required]],image:[""]})}onSubmit(){if(this.establishmentForm?.valid){const o=this.mapFormToEstablishment();this.googleMapsService.establishments.push(o),this.router.navigate(["/establishment"])}}mapFormToEstablishment(){return{id:"",name:this.establishmentForm?.get("name")?.value,cpfCnpj:this.establishmentForm?.get("cpfCnpj")?.value,description:this.establishmentForm?.get("description")?.value,address:{street:this.establishmentForm?.get("street")?.value,number:this.establishmentForm?.get("number")?.value,complement:this.establishmentForm?.get("complement")?.value,neighborhood:this.establishmentForm?.get("neighborhood")?.value,city:this.establishmentForm?.get("city")?.value,state:this.establishmentForm?.get("state")?.value,zipCode:this.establishmentForm?.get("zipCode")?.value},phone:this.establishmentForm?.get("phone")?.value,serviceType:this.establishmentForm?.get("serviceType")?.value,image:this.establishmentForm?.get("image")?.value}}handleInputChange(o){var t=o.dataTransfer?o.dataTransfer.files[0]:o.target.files[0],a=new FileReader;t.type.match(/image-*/)?(this.imageName=t.name,a.onload=this._handleReaderLoaded.bind(this),a.readAsDataURL(t)):alert("invalid format")}_handleReaderLoaded(o){let t=o.target;this.establishmentForm.get("image").setValue(t.result)}}return(n=r).\u0275fac=function(o){return new(o||n)(e.Y36(i.qu),e.Y36(_.F0),e.Y36(E.t))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-establishment"]],standalone:!0,features:[e.jDz],decls:77,vars:13,consts:[[1,"navbar"],[1,"navbar-left"],["routerLink","/establishment"],[1,"fas","fa-chevron-left","navbar-icon"],[1,"navbar-brand","text-white"],[1,"navbar-right"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name",1,"text-white","form-label"],["type","text","id","name","formControlName","name","placeholder","Digite o nome",1,"form-control"],["class","text-danger",4,"ngIf"],["for","cpfCnpj",1,"text-white","form-label"],["type","text","id","cpfCnpj","formControlName","cpfCnpj","placeholder","Digite o CPF ou CNPJ",1,"form-control"],["for","description",1,"text-white","form-label"],["id","description","formControlName","description","placeholder","Digite a descri\xe7\xe3o",1,"form-control"],["for","phone",1,"text-white","form-label"],["type","text","id","phone","formControlName","phone","placeholder","Digite o n\xfamero de telefone",1,"form-control"],["for","serviceType",1,"text-white","form-label"],["type","text","id","serviceType","formControlName","serviceType","placeholder","Digite o tipo de servi\xe7o",1,"form-control"],[1,"file","mt-4"],["type","file","id","file","accept","image/*",1,"text-white","form-label",3,"change"],[1,"file-custom"],[2,"color","white"],["for","zipCode",1,"text-white","form-label"],["type","text","id","zipCode","formControlName","zipCode","placeholder","Digite o CEP","required","","pattern","\\d{8}",1,"form-control"],["for","street",1,"text-white","form-label"],["type","text","id","street","formControlName","street","placeholder","Digite o nome da Rua","required","",1,"form-control"],["for","number",1,"text-white","form-label"],["type","text","id","number","formControlName","number","placeholder","Digite o n\xfamero","required","",1,"form-control"],["for","complement",1,"text-white","form-label"],["type","text","id","complement","formControlName","complement","placeholder","Digite o complemento",1,"form-control"],["for","neighborhood",1,"text-white","form-label"],["type","text","id","neighborhood","formControlName","neighborhood","placeholder","Digite o Bairro","required","",1,"form-control"],["for","city",1,"text-white","form-label"],["type","text","id","city","formControlName","city","placeholder","Digite a cidade","required","",1,"form-control"],["for","state",1,"text-white","form-label"],["type","text","id","state","formControlName","state","placeholder","Digite o Estado","required","",1,"form-control"],[1,"d-flex","justify-content-center","mt-2","pb-2"],[1,"btn","btn-primary",3,"click"],[1,"text-danger"]],template:function(o,t){if(1&o&&(e.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),e._UZ(3,"i",3),e.qZA()(),e.TgZ(4,"label",4),e._uU(5,"Cadastrar estabelecimento"),e.qZA(),e._UZ(6,"div",5),e.qZA(),e.TgZ(7,"form",6),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(8,"div",7)(9,"label",8),e._uU(10,"Nome:"),e.qZA(),e._UZ(11,"input",9),e.YNc(12,T,2,0,"div",10),e.qZA(),e.TgZ(13,"div",7)(14,"label",11),e._uU(15,"CPF/CNPJ:"),e.qZA(),e._UZ(16,"input",12),e.YNc(17,F,2,0,"div",10),e.qZA(),e.TgZ(18,"div",7)(19,"label",13),e._uU(20,"Descri\xe7\xe3o:"),e.qZA(),e._UZ(21,"textarea",14),e.YNc(22,q,2,0,"div",10),e.qZA(),e.TgZ(23,"div",7)(24,"label",15),e._uU(25,"Telefone:"),e.qZA(),e._UZ(26,"input",16),e.YNc(27,A,2,0,"div",10),e.qZA(),e.TgZ(28,"div",7)(29,"label",17),e._uU(30,"Tipo de Servi\xe7o:"),e.qZA(),e._UZ(31,"input",18),e.YNc(32,U,2,0,"div",10),e.qZA(),e.TgZ(33,"label",19)(34,"input",20),e.NdJ("change",function(a){return t.handleInputChange(a)}),e.qZA(),e.TgZ(35,"span",21),e._uU(36),e.qZA()(),e._UZ(37,"hr",22),e.TgZ(38,"h3"),e._uU(39,"Endere\xe7o"),e.qZA(),e.TgZ(40,"div",7)(41,"label",23),e._uU(42,"CEP:"),e.qZA(),e._UZ(43,"input",24),e.YNc(44,y,2,0,"div",10),e.qZA(),e.TgZ(45,"div",7)(46,"label",25),e._uU(47,"Rua:"),e.qZA(),e._UZ(48,"input",26),e.YNc(49,P,2,0,"div",10),e.qZA(),e.TgZ(50,"div",7)(51,"label",27),e._uU(52,"N\xfamero:"),e.qZA(),e._UZ(53,"input",28),e.YNc(54,x,2,0,"div",10),e.qZA(),e.TgZ(55,"div",7)(56,"label",29),e._uU(57,"Complemento:"),e.qZA(),e._UZ(58,"input",30),e.qZA(),e.TgZ(59,"div",7)(60,"label",31),e._uU(61,"Bairro:"),e.qZA(),e._UZ(62,"input",32),e.YNc(63,N,2,0,"div",10),e.qZA(),e.TgZ(64,"div",7)(65,"label",33),e._uU(66,"Cidade:"),e.qZA(),e._UZ(67,"input",34),e.YNc(68,O,2,0,"div",10),e.qZA(),e.TgZ(69,"div",7)(70,"label",35),e._uU(71,"Estado:"),e.qZA(),e._UZ(72,"input",36),e.YNc(73,I,2,0,"div",10),e.qZA()(),e.TgZ(74,"div",37)(75,"button",38),e.NdJ("click",function(){return t.onSubmit()}),e._uU(76,"Cadastrar"),e.qZA()()),2&o){let l,a,s,u,d,p,h,g,c,b,f;e.xp6(7),e.Q6J("formGroup",t.establishmentForm),e.xp6(5),e.Q6J("ngIf",(null==(l=t.establishmentForm.get("name"))?null:l.invalid)&&(null==(l=t.establishmentForm.get("name"))?null:l.touched)),e.xp6(5),e.Q6J("ngIf",(null==(a=t.establishmentForm.get("cpfCnpj"))?null:a.invalid)&&(null==(a=t.establishmentForm.get("cpfCnpj"))?null:a.touched)),e.xp6(5),e.Q6J("ngIf",(null==(s=t.establishmentForm.get("description"))?null:s.invalid)&&(null==(s=t.establishmentForm.get("description"))?null:s.touched)),e.xp6(5),e.Q6J("ngIf",(null==(u=t.establishmentForm.get("phone"))?null:u.invalid)&&(null==(u=t.establishmentForm.get("phone"))?null:u.touched)),e.xp6(5),e.Q6J("ngIf",(null==(d=t.establishmentForm.get("serviceType"))?null:d.invalid)&&(null==(d=t.establishmentForm.get("serviceType"))?null:d.touched)),e.xp6(4),e.Oqu(t.imageName),e.xp6(8),e.Q6J("ngIf",(null==(p=t.establishmentForm.get("zipCode"))?null:p.invalid)&&(null==(p=t.establishmentForm.get("zipCode"))?null:p.touched)),e.xp6(5),e.Q6J("ngIf",(null==(h=t.establishmentForm.get("street"))?null:h.invalid)&&(null==(h=t.establishmentForm.get("street"))?null:h.touched)),e.xp6(5),e.Q6J("ngIf",(null==(g=t.establishmentForm.get("number"))?null:g.invalid)&&(null==(g=t.establishmentForm.get("number"))?null:g.touched)),e.xp6(9),e.Q6J("ngIf",(null==(c=t.establishmentForm.get("neighborhood"))?null:c.invalid)&&(null==(c=t.establishmentForm.get("neighborhood"))?null:c.touched)),e.xp6(5),e.Q6J("ngIf",(null==(b=t.establishmentForm.get("city"))?null:b.invalid)&&(null==(b=t.establishmentForm.get("city"))?null:b.touched)),e.xp6(5),e.Q6J("ngIf",(null==(f=t.establishmentForm.get("state"))?null:f.invalid)&&(null==(f=t.establishmentForm.get("state"))?null:f.touched))}},dependencies:[C.ez,C.O5,_.Bz,_.rH,i.u5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.c5,i.UX,i.sg,i.u],styles:['.navbar[_ngcontent-%COMP%]{padding:8px 0}.navbar[_ngcontent-%COMP%]   .navbar-left[_ngcontent-%COMP%]{margin-left:10px}.navbar[_ngcontent-%COMP%]   .navbar-right[_ngcontent-%COMP%]{margin-right:10px}.navbar[_ngcontent-%COMP%]   .navbar-icon[_ngcontent-%COMP%]{font-size:25px;color:#fff;padding:8px 0}.file[_ngcontent-%COMP%]{position:relative;display:inline-block;cursor:pointer;height:2.5rem}.file[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-width:14rem;margin:0;filter:alpha(opacity=0);opacity:0}.file-custom[_ngcontent-%COMP%]{position:absolute;top:0;right:0;left:0;z-index:5;height:2.5rem;padding:.5rem 1rem;line-height:1.5;color:#555;background-color:#fff;border:.075rem solid #ddd;border-radius:.25rem;box-shadow:inset 0 .2rem .4rem #0000000d;-webkit-user-select:none;user-select:none}.file-custom[_ngcontent-%COMP%]:before{position:absolute;top:-.075rem;right:-.075rem;bottom:-.075rem;z-index:6;display:block;content:"Selecionar";height:2.5rem;padding:.5rem 1rem;line-height:1.5;color:#555;background-color:#eee;border:.075rem solid #ddd;border-radius:0 .25rem .25rem 0}.file[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ .file-custom[_ngcontent-%COMP%]{box-shadow:0 0 0 .075rem #fff,0 0 0 .2rem #0074d9}']}),r})()}}]);